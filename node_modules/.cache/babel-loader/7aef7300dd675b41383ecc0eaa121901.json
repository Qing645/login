{"remainingRequest":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\router\\index.js","mtime":1629806457531},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgcm91dGVzIGZyb20gJy4vcm91dGVzJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcywKICBtb2RlOiAiaGlzdG9yeSIKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIC8v5YWo5bGA6Lev55Sx5a6I5Y2rCiAgdmFyIGhhc0F1dGggPSBzdG9yZS5nZXR0ZXJzWydsb2dpblVzZXIvc3RhdHVzJ107CgogIGlmICh0by5tZXRhLmF1dGgpIHsKICAgIC8v6L+b6KGM6Ym05p2DICzpnIDopoHpibTmnYPnmoTliKTmlq3liqDovb3nirbmgIHmt7vliqDnm7jlupTnmoRuZXh05Y+C5pWwCiAgICBpZiAoaGFzQXV0aCA9PT0gJ2xvYWRpbmcnKSB7CiAgICAgIC8v5Yqg6L295LitCiAgICAgIG5leHQoewogICAgICAgIC8v6L+b5YWlbG9hZGluZ+etieW+hemhtQogICAgICAgIHBhdGg6ICIvbG9hZGluZyIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJldHVyblVybDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIGlmIChoYXNBdXRoID09PSAnbG9naW4nKSB7CiAgICAgIC8v5pyJ55m75b2V55So5oi3CiAgICAgIG5leHQoKTsgLy/ov5vlhaXnm67moIfpobUKICAgIH0gZWxzZSB7CiAgICAgIC8v5rKh5pyJ55m75b2V55So5oi3CiAgICAgIGFsZXJ0KCfor6XpobXpnaLpnIDopoHnmbvlvZXvvIzor7flhYjnmbvlvZUuLi4nKTsKICAgICAgbmV4dCh7CiAgICAgICAgLy/ov5Tlm57nmbvpmYbpobXpnaIKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmV0dXJuVXJsOiB0by5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/QING/Desktop/练习/用户登录/src/router/index.js"],"names":["Vue","VueRouter","routes","store","use","router","mode","beforeEach","to","from","next","hasAuth","getters","meta","auth","path","query","returnUrl","fullPath","alert"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEA,IAAMI,MAAM,GAAG,IAAIJ,SAAJ,CAAc;AAC3BC,EAAAA,MAAM,EAANA,MAD2B;AAE3BI,EAAAA,IAAI,EAAE;AAFqB,CAAd,CAAf;AAKAD,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAAE;AACtC,MAAMC,OAAO,GAAGR,KAAK,CAACS,OAAN,CAAc,kBAAd,CAAhB;;AACA,MAAIJ,EAAE,CAACK,IAAH,CAAQC,IAAZ,EAAkB;AAAE;AAClB,QAAIH,OAAO,KAAK,SAAhB,EAA2B;AAAE;AAC3BD,MAAAA,IAAI,CAAC;AAAK;AACRK,QAAAA,IAAI,EAAC,UADF;AAEHC,QAAAA,KAAK,EAAC;AACJC,UAAAA,SAAS,EAACT,EAAE,CAACU;AADT;AAFH,OAAD,CAAJ;AAMD,KAPD,MAOO,IAAIP,OAAO,KAAK,OAAhB,EAAyB;AAAE;AAChCD,MAAAA,IAAI,GAD0B,CACrB;AACV,KAFM,MAEA;AAAI;AACTS,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACAT,MAAAA,IAAI,CAAC;AAAI;AACPK,QAAAA,IAAI,EAAC,QADF;AAEHC,QAAAA,KAAK,EAAC;AACJC,UAAAA,SAAS,EAACT,EAAE,CAACU;AADT;AAFH,OAAD,CAAJ;AAMD;AACF,GAnBD,MAmBK;AACHR,IAAAA,IAAI;AACL;AAEF,CAzBD;AA0BA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from \"vue-router\";\nimport routes from './routes';\nimport store from \"@/store\";\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  routes,\n  mode: \"history\"\n});\n\nrouter.beforeEach((to, from, next) => { //全局路由守卫\n  const hasAuth = store.getters['loginUser/status'];\n  if (to.meta.auth) { //进行鉴权 ,需要鉴权的判断加载状态添加相应的next参数\n    if (hasAuth === 'loading') { //加载中\n      next({    //进入loading等待页\n        path:\"/loading\",\n        query:{\n          returnUrl:to.fullPath\n        }\n      })\n    } else if (hasAuth === 'login') { //有登录用户\n      next();  //进入目标页\n    } else {   //没有登录用户\n      alert('该页面需要登录，请先登录...')\n      next({   //返回登陆页面\n        path:'/login',\n        query:{\n          returnUrl:to.fullPath\n        }\n      })\n    }\n  }else{\n    next()\n  }\n\n})\nexport default router;"]}]}