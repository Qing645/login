{"remainingRequest":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\store\\loginUser.js","dependencies":[{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\store\\loginUser.js","mtime":1629714730431},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvUUlORy9EZXNrdG9wL1x1N0VDM1x1NEU2MC9cdTc1MjhcdTYyMzdcdTc2N0JcdTVGNTUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgKiBhcyB1c2VyQXBpIGZyb20gJ0AvYXBpL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICAvL+W8gOWQr+WRveWQjeepuumXtAogIHN0YXRlOiB7CiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHVzZXI6IG51bGwKICB9LAogIGdldHRlcnM6IHsKICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS5sb2FkaW5nKSB7CiAgICAgICAgcmV0dXJuICJsb2FkaW5nIjsKICAgICAgfSBlbHNlIGlmIChzdGF0ZS51c2VyKSB7CiAgICAgICAgcmV0dXJuICJsb2dpbiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJ1bmxvZ2luIjsKICAgICAgfQogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudXNlciA9IHBheWxvYWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY3R4LCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3R4LmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckFwaS5sb2dpbihwYXlsb2FkLmxvZ2luSWQsIHBheWxvYWQubG9naW5Qd2QpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldFVzZXInLCByZXNwKTsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHdob0FtSTogZnVuY3Rpb24gd2hvQW1JKGN0eCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJBcGkud2hvQW1JKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldFVzZXInLCByZXNwKTsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ2luT3V0OiBmdW5jdGlvbiBsb2dpbk91dChjdHgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldExvYWRpbmcnLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQXBpLmxvZ2luT3V0KCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldFVzZXInLCBudWxsKTsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/QING/Desktop/练习/用户登录/src/store/loginUser.js"],"names":["userApi","namespaced","state","loading","user","getters","status","mutations","setLoading","payload","setUser","actions","login","ctx","commit","loginId","loginPwd","resp","whoAmI","loginOut"],"mappings":";;AAAA,OAAO,KAAKA,OAAZ,MAAyB,YAAzB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAC,IADE;AACG;AAChBC,EAAAA,KAAK,EAAC;AACJC,IAAAA,OAAO,EAAC,KADJ;AAEJC,IAAAA,IAAI,EAAC;AAFD,GAFO;AAMbC,EAAAA,OAAO,EAAC;AACNC,IAAAA,MADM,kBACCJ,KADD,EACO;AACX,UAAGA,KAAK,CAACC,OAAT,EAAiB;AACf,eAAO,SAAP;AACD,OAFD,MAEM,IAAGD,KAAK,CAACE,IAAT,EAAc;AAClB,eAAO,OAAP;AACD,OAFK,MAED;AACH,eAAO,SAAP;AACD;AACF;AATK,GANK;AAiBbG,EAAAA,SAAS,EAAC;AACRC,IAAAA,UADQ,sBACGN,KADH,EACSO,OADT,EACiB;AACvBP,MAAAA,KAAK,CAACC,OAAN,GAAgBM,OAAhB;AACD,KAHO;AAIRC,IAAAA,OAJQ,mBAIAR,KAJA,EAIMO,OAJN,EAIc;AACpBP,MAAAA,KAAK,CAACE,IAAN,GAAaK,OAAb;AACD;AANO,GAjBG;AAyBbE,EAAAA,OAAO,EAAC;AACAC,IAAAA,KADA,iBACMC,GADN,EACUJ,OADV,EACkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBI,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,IAAxB;AADsB;AAAA,uBAEHd,OAAO,CAACY,KAAR,CAAcH,OAAO,CAACM,OAAtB,EAA8BN,OAAO,CAACO,QAAtC,CAFG;;AAAA;AAEhBC,gBAAAA,IAFgB;AAGtBJ,gBAAAA,GAAG,CAACC,MAAJ,CAAW,SAAX,EAAsBG,IAAtB;AACAJ,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,KAAxB;AAJsB,iDAKfG,IALe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMvB,KAPK;AAQAC,IAAAA,MARA,kBAQQL,GARR,EAQY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBA,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,IAAxB;AADgB;AAAA,uBAEGd,OAAO,CAACkB,MAAR,EAFH;;AAAA;AAEVD,gBAAAA,IAFU;AAGhBJ,gBAAAA,GAAG,CAACC,MAAJ,CAAW,SAAX,EAAqBG,IAArB;AACAJ,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,KAAxB;;AAJgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKjB,KAbK;AAcAK,IAAAA,QAdA,oBAcSN,GAdT,EAca;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBA,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,IAAxB;AADiB;AAAA,uBAEXd,OAAO,CAACmB,QAAR,EAFW;;AAAA;AAGjBN,gBAAAA,GAAG,CAACC,MAAJ,CAAW,SAAX,EAAqB,IAArB;AACAD,gBAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX,EAAwB,KAAxB;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKlB;AAnBK;AAzBK,CAAf","sourcesContent":["import * as userApi from '@/api/user';\n\nexport default {\n  namespaced:true,//开启命名空间\n  state:{\n    loading:false,\n    user:null\n  },\n  getters:{\n    status(state){\n      if(state.loading){\n        return \"loading\"\n      }else if(state.user){\n        return \"login\"\n      }else{\n        return \"unlogin\"\n      }\n    }\n  },\n  mutations:{\n    setLoading(state,payload){\n      state.loading = payload\n    },\n    setUser(state,payload){\n      state.user = payload\n    }\n  },\n  actions:{\n    async login(ctx,payload){\n      ctx.commit(\"setLoading\",true);\n      const resp = await userApi.login(payload.loginId,payload.loginPwd);\n      ctx.commit('setUser', resp);\n      ctx.commit('setLoading',false);\n      return resp\n    },\n    async whoAmI (ctx){\n      ctx.commit('setLoading',true);\n      const resp = await userApi.whoAmI();\n      ctx.commit('setUser',resp);\n      ctx.commit('setLoading',false);\n    },\n    async loginOut(ctx){\n      ctx.commit('setLoading',true);\n      await userApi.loginOut();\n      ctx.commit('setUser',null);\n      ctx.commit('setLoading',false);\n    }\n  }\n}"]}]}