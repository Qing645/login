{"remainingRequest":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\api\\user.js","dependencies":[{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\api\\user.js","mtime":1629711135324},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi50aW1lcnMuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9RSU5HL0Rlc2t0b3AvXHU3RUMzXHU0RTYwL1x1NzUyOFx1NjIzN1x1NzY3Qlx1NUY1NS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CgpmdW5jdGlvbiBkZWxheShkdXJhdGlvbikgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHJlc29sdmUoKTsKICAgIH0sIGR1cmF0aW9uKTsKICB9KTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKF94LCBfeDIpIHsKICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9sb2dpbigpIHsKICBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobG9naW5JZCwgbG9naW5Qd2QpIHsKICAgIHZhciB1c2VyOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGRlbGF5KDEwMDApOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgaWYgKCEobG9naW5JZCA9PT0gImFkbWluIiAmJiBsb2dpblB3ZCA9PT0gIjEyMzEyMyIpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVzZXIgPSB7CiAgICAgICAgICAgICAgbG9naW5JZDogbG9naW5JZCwKICAgICAgICAgICAgICBuYW1lOiAi566h55CG5ZGYIgogICAgICAgICAgICB9OwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdXNlcik7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGxvZ2luT3V0KCkgewogIHJldHVybiBfbG9naW5PdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvZ2luT3V0KCkgewogIF9sb2dpbk91dCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBkZWxheSgxMDAwKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwogIHJldHVybiBfbG9naW5PdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHdob0FtSSgpIHsKICByZXR1cm4gX3dob0FtSS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfd2hvQW1JKCkgewogIF93aG9BbUkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgdmFyIHVzZXI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBkZWxheSgxMDAwKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpOwoKICAgICAgICAgICAgaWYgKCF1c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgSlNPTi5wYXJzZSh1c2VyKSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMyk7CiAgfSkpOwogIHJldHVybiBfd2hvQW1JLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["C:/Users/QING/Desktop/练习/用户登录/src/api/user.js"],"names":["delay","duration","Promise","resolve","setTimeout","login","loginId","loginPwd","user","name","localStorage","setItem","JSON","stringify","loginOut","removeItem","whoAmI","getItem","parse"],"mappings":";;;;;AAAA,SAASA,KAAT,CAAeC,QAAf,EAAyB;AACvB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9BC,IAAAA,UAAU,CAAC,YAAM;AACfD,MAAAA,OAAO;AACR,KAFS,EAEPF,QAFO,CAAV;AAGD,GAJM,CAAP;AAKD;;AAED,gBAAsBI,KAAtB;AAAA;AAAA;;;mEAAO,iBAAqBC,OAArB,EAA8BC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACCP,KAAK,CAAC,IAAD,CADN;;AAAA;AAAA,kBAEDM,OAAO,KAAK,OAAZ,IAAuBC,QAAQ,KAAK,QAFnC;AAAA;AAAA;AAAA;;AAGGC,YAAAA,IAHH,GAGU;AACXF,cAAAA,OAAO,EAAPA,OADW;AAEXG,cAAAA,IAAI,EAAE;AAFK,aAHV;AAOHC,YAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAA7B;AAPG,6CAQIA,IARJ;;AAAA;AAAA,6CAUE,IAVF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAaP,gBAAsBM,QAAtB;AAAA;AAAA;;;sEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACCd,KAAK,CAAC,IAAD,CADN;;AAAA;AAELU,YAAAA,YAAY,CAACK,UAAb,CAAwB,MAAxB;;AAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKP,gBAAsBC,MAAtB;AAAA;AAAA;;;oEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACChB,KAAK,CAAC,IAAD,CADN;;AAAA;AAECQ,YAAAA,IAFD,GAEQE,YAAY,CAACO,OAAb,CAAqB,MAArB,CAFR;;AAAA,iBAGDT,IAHC;AAAA;AAAA;AAAA;;AAAA,8CAIII,IAAI,CAACM,KAAL,CAAWV,IAAX,CAJJ;;AAAA;AAAA,8CAME,IANF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["function delay(duration) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n}\n\nexport async function login(loginId, loginPwd) {\n  await delay(1000);\n  if (loginId === \"admin\" && loginPwd === \"123123\") {\n    const user = {\n      loginId,\n      name: \"管理员\",\n    };\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    return user;\n  }\n  return null;\n}\n\nexport async function loginOut() {\n  await delay(1000);\n  localStorage.removeItem(\"user\");\n}\n\nexport async function whoAmI() {\n  await delay(1000);\n  const user = localStorage.getItem(\"user\");\n  if (user) {\n    return JSON.parse(user);\n  }\n  return null;\n}\n"]}]}