{"remainingRequest":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\src\\views\\Login.vue","mtime":1629803655724},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\QING\\Desktop\\练习\\用户登录\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbklkOiAiIiwKICAgICAgbG9naW5Qd2Q6ICIiLCAgCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IG1hcFN0YXRlKCdsb2dpblVzZXInLFsnbG9hZGluZyddKSwvL3Z1ZXjovoXliqnlh73mlbAsCiAgbWV0aG9kczogewogICBhc3luYyBoYW5kbGVTdWJtaXQoKSB7CiAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpblVzZXIvbG9naW4nLHsKICAgICAgICBsb2dpbklkIDogdGhpcy5sb2dpbklkLAogICAgICAgIGxvZ2luUHdkIDp0aGlzLmxvZ2luUHdkLAogICAgICB9KQogICAgICBpZihyZXNwKXsKICAgICAgICBjb25zdCByZXR1cm5VcmwgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZXR1cm5VcmwgfHwgJy8nOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHJldHVyblVybCkuY2F0Y2goKGVycik9Pntjb25zb2xlLmxvZyhlcnIpfSkKICAgICAgfWVsc2V7CiAgICAgICAgYWxlcnQoIui0puWPt+WvhueggemUmeivryIpCiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <div class=\"form-item\">\n      <label>账号：</label>\n      <input type=\"text\" v-model=\"loginId\" />\n    </div>\n    <div class=\"form-item\">\n      <label>密码：</label>\n      <input type=\"password\" autocomplete=\"new-password\" v-model=\"loginPwd\" />\n    </div>\n    <div class=\"form-item\">\n      <label></label>\n      <button :disabled=\"loading\">{{ loading ? \"loading...\" : \"登录\" }}</button>\n    </div>\n  </form>\n</template>\n<script>\nimport{ mapState } from \"vuex\";\nexport default {\n  data() {\n    return {\n      loginId: \"\",\n      loginPwd: \"\",  \n    };\n  },\n  computed: mapState('loginUser',['loading']),//vuex辅助函数,\n  methods: {\n   async handleSubmit() {\n     const resp = await this.$store.dispatch('loginUser/login',{\n        loginId : this.loginId,\n        loginPwd :this.loginPwd,\n      })\n      if(resp){\n        const returnUrl = this.$route.query.returnUrl || '/';\n        this.$router.push(returnUrl).catch((err)=>{console.log(err)})\n      }else{\n        alert(\"账号密码错误\")\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.form-item {\n  margin: 1em auto;\n  width: 300px;\n  display: flex;\n  align-items: center;\n}\n.form-item input {\n  height: 26px;\n  font-size: 14px;\n  flex: 1 1 auto;\n}\n.form-item label {\n  width: 70px;\n}\n.form-item button {\n  flex: 1 1 auto;\n  background: #50936c;\n  border: none;\n  outline: none;\n  color: #fff;\n  border-radius: 5px;\n  height: 35px;\n  font-size: 16px;\n}\n</style>\n"]}]}